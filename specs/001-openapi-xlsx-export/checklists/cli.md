# CLI Interface Requirements Quality Checklist: OpenAPI to XLSX Export

**Purpose**: CLI 인터페이스 요구사항의 명확성, 완전성, 일관성 검증
**Created**: 2026-01-15
**Updated**: 2026-01-15 (Gap 항목 반영 완료)
**Feature**: [spec.md](../spec.md) | [cli-interface.md](../contracts/cli-interface.md)
**Focus**: CLI 명령어 구조, 옵션, 도움말, 오류 처리 요구사항

## 명령어 구조 완전성

- [x] CHK001 - 명령어 이름(`otd`)의 의미와 선택 근거가 문서화되어 있는가? ✅ OpenAPI To Document
- [x] CHK002 - 필수 인자(`<input>`)의 형식 제약사항이 명확히 정의되어 있는가? ✅ .yaml/.yml/.json
- [x] CHK003 - 상대 경로와 절대 경로 모두에 대한 동작이 명시되어 있는가? ✅ 둘 다 지원
- [x] CHK004 - 입력 파일 확장자(.yaml, .yml, .json)별 처리 방식이 일관되게 정의되어 있는가? ✅ FR-002
- [x] CHK005 - 인자 없이 실행했을 때의 동작이 명시되어 있는가? ✅ 오류 + 사용법 힌트, FR-014

## 옵션 요구사항 명확성

- [x] CHK006 - `--output` 옵션에서 디렉토리만 지정했을 때의 동작이 정의되어 있는가? ✅ 입력 파일명 사용, FR-008
- [x] CHK007 - 출력 경로에 .xlsx 확장자가 없을 때 자동 추가 여부가 명시되어 있는가? ✅ 자동 추가, FR-007
- [x] CHK008 - 옵션 순서가 결과에 영향을 미치는지 여부가 명시되어 있는가? ✅ 순서 무관
- [x] CHK009 - 알 수 없는 옵션 입력 시 동작이 정의되어 있는가? ✅ 오류 + 도움말 안내, FR-015
- [x] CHK010 - `--help`와 `--version`이 다른 옵션/인자와 함께 사용될 때 우선순위가 정의되어 있는가? ✅ FR-016

## 도움말 요구사항 품질

- [x] CHK011 - 도움말 출력 언어(영어/한국어)에 대한 요구사항이 명시되어 있는가? ✅ 한국어
- [x] CHK012 - 도움말에 포함될 사용 예시 개수와 유형이 정의되어 있는가? ✅ 3개 예시
- [x] CHK013 - 도움말 출력 형식이 표준 CLI 관례를 따르는지에 대한 기준이 있는가? ✅ POSIX 관례
- [x] CHK014 - `--help` 출력이 stdout인지 stderr인지 명시되어 있는가? ✅ stdout

## 버전 정보 요구사항

- [x] CHK015 - 버전 번호 형식(시맨틱 버저닝)이 명시되어 있는가? ✅ v{major}.{minor}.{patch}
- [x] CHK016 - 버전 정보에 포함될 추가 메타데이터(빌드 날짜 등)가 정의되어 있는가? ✅ 버전 + 빌드 날짜

## 오류 메시지 완전성

- [x] CHK017 - 각 오류 시나리오별 메시지 형식이 일관되게 정의되어 있는가? ✅ "오류: [내용]" + 해결 안내
- [x] CHK018 - 오류 메시지 언어(영어/한국어)가 명시되어 있는가? ✅ 한국어
- [x] CHK019 - 오류 메시지에 해결 방법 안내 포함 여부가 정의되어 있는가? ✅ 포함
- [x] CHK020 - 여러 오류가 동시에 발생했을 때 표시 방식이 정의되어 있는가? ✅ 첫 번째 오류만 표시 (암묵적)

## 종료 코드 일관성

- [x] CHK021 - 모든 오류 시나리오가 종료 코드에 매핑되어 있는가? ✅ 0, 1, 2, 3 정의
- [x] CHK022 - 종료 코드 1, 2, 3의 구분 기준이 명확한가? ✅ 파일/파싱/출력 오류 구분
- [x] CHK023 - `--help`와 `--version` 실행 시 종료 코드가 명시되어 있는가? ✅ 0 (성공)

## 입출력 스트림 요구사항

- [x] CHK024 - 정상 출력(stdout)과 오류 출력(stderr)의 분리가 명확히 정의되어 있는가? ✅ 테이블로 정의
- [x] CHK025 - 진행 상황 표시가 stdout인지 stderr인지 정의되어 있는가? ✅ stderr
- [x] CHK026 - 파이프라인 사용 시(`| grep` 등) 출력 형식 호환성이 고려되어 있는가? ✅ stdout/stderr 분리로 호환

## 파일 덮어쓰기 동작

- [x] CHK027 - 기존 파일 덮어쓰기 시 경고 없음이 의도된 동작인지 명시되어 있는가? ✅ 기본은 오류
- [x] CHK028 - 덮어쓰기 방지 옵션(`--no-clobber` 등)의 필요성이 검토되었는가? ✅ --force 옵션 추가, FR-013

## 크로스 플랫폼 호환성

- [x] CHK029 - Windows, macOS, Linux에서의 경로 구분자 처리가 정의되어 있는가? ✅ OS 네이티브 자동 처리
- [x] CHK030 - 파일명에 공백이나 특수문자가 포함된 경우의 처리가 정의되어 있는가? ✅ 따옴표로 감싸서 처리

## Summary

| 카테고리 | 완료 | 전체 |
|----------|------|------|
| 명령어 구조 완전성 | 5 | 5 |
| 옵션 요구사항 명확성 | 5 | 5 |
| 도움말 요구사항 품질 | 4 | 4 |
| 버전 정보 요구사항 | 2 | 2 |
| 오류 메시지 완전성 | 4 | 4 |
| 종료 코드 일관성 | 3 | 3 |
| 입출력 스트림 요구사항 | 3 | 3 |
| 파일 덮어쓰기 동작 | 2 | 2 |
| 크로스 플랫폼 호환성 | 2 | 2 |
| **전체** | **30** | **30** |

## Notes

- ✅ 모든 Gap 항목이 spec.md 및 cli-interface.md에 반영됨
- 추가된 기능 요구사항: FR-007, FR-008, FR-013, FR-014, FR-015, FR-016
- 새로운 옵션 추가: `--force` (`-f`)
